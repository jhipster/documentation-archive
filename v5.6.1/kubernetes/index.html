<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#353d47">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#353d47">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#353d47">
    <title>Deploying to Kubernetes</title>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">

    <!-- CSS Libs -->
    <link rel="stylesheet" type="text/css" href="/lib/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/dataTables.bootstrap.css">
    <!-- CSS App -->
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/themes/flat-blue.css">
    
    <!-- Bootstrap Docs CSS subset to get icon -->
    <!--<link href="/css/bootstrap-docs.css" rel="stylesheet">-->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicon with QHD -->
    <link rel="icon" type="image/png" href="/images/logo/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/images/logo/favicon-16x16.png" sizes="16x16" />
<meta name="robots" content="noindex">
</head>

<body class="flat-blue">
    <div class="app-container expanded ">
        <div class="row content-container">
            <nav class="navbar navbar-inverse navbar-fixed-top navbar-top">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-expand-toggle fa-rotate-90">
                            <i class="fa fa-bars icon"></i>
                        </button>
                        <ol class="breadcrumb navbar-breadcrumb">
                            <li class="active"></li>
                        </ol>
                        <button type="button" class="navbar-right-expand-toggle pull-right visible-xs">
                            <i class="fa fa-th icon"></i>
                        </button>
                    </div>
                    <ul class="nav navbar-nav navbar-right">
                        
                        
                        <li class="page-scroll">
                            <a href="/documentation-archive/v5.6.1/sponsors/">Sponsor</a>
                        </li>
                        
                        <li class="">
                            <a href="https://www.google.com/search?q=site:www.jhipster.tech" target="_blank">Search</a>
                        </li>
                        <li>
                            <a href="https://github.com/jhipster/generator-jhipster" class="dropdown-toggle navlink" target="_blank" role="button"><i class="fa fa-github fa-2x"></i></a>
                        </li>
                        <li>
                            <button type="button" class="navbar-right-expand-toggle visible-xs pull-right light">
                                <i class="fa fa-times icon"></i>
                            </button>
                        </li>
                    </ul>

                </div>
            </nav>
            <div class="side-menu sidebar-inverse">
                <nav class="navbar navbar-default" role="navigation">
                    <div class="side-menu-container">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="/">
                                <div class="icon"><img src="/documentation-archive/v5.6.1/images/logo/logo-jhipster.svg" height="50px"></div>
                                <div class="title brand">JHipster </div>
                            </a>
                            <button type="button" class="navbar-expand-toggle pull-right visible-xs">
                                <i class="fa fa-times icon"></i>
                            </button>
                        </div>
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="/">
                                    <span class="icon fa fa-home"></span><span class="title">Home</span>
                                </a>
                            </li>
                            <li >
                                <a href="/documentation-archive/v5.6.1/releases/">
                                    <span class="icon fa fa-file-text-o"></span><span class="title">Release notes</span>
                                </a>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-1">
                                    <span class="icon fa fa-road"></span><span class="title">JHipster in a few minutes</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-1" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/tech-stack/"><i class="fa fa-fw fa-stack-overflow"></i> Technology stack</a></li>
                                            <li ><a href="/presentation" target="_blank"><i class="fa fa-fw fa-desktop"></i> Official JHipster slides</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/screenshots/"><i class="fa fa-fw fa-picture-o"></i> JHipster in 5 screenshots</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/video-tutorial/"><i class="fa fa-fw fa-film"></i> Video tutorial (16 minutes)</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/companies-using-jhipster/"><i class="fa fa-fw fa-thumbs-up"></i> Companies using JHipster</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/showcase/"><i class="fa fa-fw fa-file-image-o"></i> Showcase of JHipster apps</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-2">
                                    <span class="icon fa fa-handshake-o"></span><span class="title">Contributing</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-2" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/sponsors/"><i class="fa fa-fw fa-usd"></i> Financial sponsors</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/contributing-individuals/"><i class="fa fa-fw fa-keyboard-o"></i> Contributing individuals</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/contributing-companies/"><i class="fa fa-fw fa-building"></i> Contributing companies</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-3">
                                    <span class="icon fa fa-fw fa-wrench"></span><span class="title">Setting up your environment</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-3" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/installation/"><i class="fa fa-fw fa-cloud-download"></i> Installing JHipster</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/configuring-a-corporate-proxy/"><i class="fa fa-fw fa-exchange"></i> Configuring a proxy</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/configuring-ide/"><i class="fa fa-fw fa-keyboard-o"></i> Configuring your IDE</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/docker-compose/"><i class="fa fa-fw fa-music"></i> Docker Compose</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/shell-plugins/"><i class="fa fa-fw fa-terminal"></i> Shell Plugins</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-4"><span class="icon fa fa-fw fa-list-ol"></span><span class="title">Core JHipster tasks</span></a>
                                <div id="dropdown-4" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/creating-an-app/"><i class="fa fa-fw fa-rocket"></i> Creating an application</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/creating-an-entity/"><i class="fa fa-fw fa-bolt"></i> Creating an entity</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/creating-a-spring-controller/"><i class="fa fa-fw fa-bolt"></i> Creating a Spring controller</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/creating-a-spring-service/"><i class="fa fa-fw fa-bolt"></i> Creating a Spring service</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-dtos/"><i class="fa fa-fw fa-briefcase"></i> Creating DTOs</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/managing-relationships/"><i class="fa fa-fw fa-sitemap"></i> Managing relationships</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/installing-new-languages/"><i class="fa fa-fw fa-flag"></i> Internationalization</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/upgrading-an-application/"><i class="fa fa-fw fa-refresh"></i> Upgrading an application</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-5"><span class="icon fa fa-fw fa-sitemap"></span><span class="title">Microservices</span></a>
                                <div id="dropdown-5" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/microservices-architecture/"><i class="fa fa-fw fa-map-signs"></i> Overview</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/api-gateway/"><i class="fa fa-fw fa-exchange"></i> API Gateway</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/traefik/"><i class="fa fa-fw fa-exchange"></i> Traefik</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/jhipster-registry/"><i class="fa fa-fw  fa-dashboard"></i> JHipster Registry</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/consul/"><i class="fa fa-fw fa-bullseye"></i> Consul</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-uaa/"><i class="fa fa-fw fa-lock"></i> JHipster UAA</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/creating-microservices/"><i class="fa fa-fw fa-bolt"></i> Creating microservices</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/microservices-in-production/"><i class="fa fa-fw fa-cloud"></i> Microservices in production</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-6"><span class="icon fa fa-fw fa-puzzle-piece"></span><span class="title">Options</span></a>
                                <div id="dropdown-6" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/security/"><i class="fa fa-fw fa-lock"></i> Securing your app</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/entities-filtering/"><i class="fa fa-fw fa-filter"></i> Filtering your entities</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-elasticsearch/"><i class="fa fa-fw fa-search"></i> Using Elasticsearch</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-websockets/"><i class="fa fa-fw fa-envelope"></i> Using Websockets</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/doing-api-first-development/"><i class="fa fa-fw fa-file-text"></i> Doing API-First development</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-cache/"><i class="fa fa-fw fa-line-chart"></i> Using a cache</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-oracle/"><i class="fa fa-fw fa-database"></i> Using Oracle</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-mongodb/"><i class="fa fa-fw fa-leaf"></i> Using MongoDB</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-couchbase/"><i class="fa fa-fw fa-database"></i> Using Couchbase</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-cassandra/"><i class="fa fa-fw fa-eye"></i> Using Cassandra</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-kafka/"><i class="fa fa-fw fa-envelope"></i> Using Kafka</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-7"><span class="icon fa fa-fw fa-code"></span><span class="title">Development</span></a>
                                <div id="dropdown-7" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/development/"><i class="fa fa-fw fa-code"></i> Using in development</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/profiles/"><i class="fa fa-fw fa-group"></i> Managing profiles</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/common-application-properties/"><i class="fa fa-fw fa-flask"></i> Common application properties</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/common-ports/"><i class="fa fa-fw fa-plug"></i> Common ports</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/separating-front-end-and-api/"><i class="fa fa-fw fa-unlink"></i> Separating front-end and API</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/managing-server-errors/"><i class="fa fa-fw fa-fire-extinguisher"></i> Managing server errors</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-angular/"><i class="fa fa-fw fa-html5"></i> Using Angular</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/using-react/"><i class="fa fa-fw fa-html5"></i> Using React</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/customizing-bootstrap-4/"><i class="fa fa-fw fa-css3"></i> Customizing Bootstrap 4</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/tls/"><i class="fa fa-fw fa-lock"></i> Using TLS and HTTP/2</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-8"><span class="icon fa fa-fw fa-umbrella"></span><span class="title">Test &amp; QA</span></a>
                                <div id="dropdown-8" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/running-tests/"><i class="fa fa-fw fa-shield"></i> Running tests</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/code-quality/"><i class="fa fa-fw fa-diamond"></i> Code quality</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/dependency-vulnerabities-check/"><i class="fa fa-fw fa-check-circle-o"></i> Dependency Vulnerabilities Check</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/setting-up-ci/"><i class="fa fa-fw fa-stethoscope"></i> Continuous Integration</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-9"><span class="icon fa fa-fw fa-cloud"></span><span class="title">Production</span></a>
                                <div id="dropdown-9" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/production/"><i class="fa fa-fw fa-play-circle"></i> Using in production</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/monitoring/"><i class="fa fa-fw fa-line-chart"></i> Monitoring</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/docker-hub/"><i class="fa fa-fw fa-cloud-upload"></i> Docker Hub</a></li>
                                            <li class="active" ><a href="/documentation-archive/v5.6.1/kubernetes/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Kubernetes</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/openshift/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to OpenShift</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/heroku/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Heroku</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/cloudfoundry/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Cloud Foundry</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/aws/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to AWS</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/azure/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Azure</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/gcp/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Google Cloud Platform</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/rancher/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Rancher</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/boxfuse/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying with Boxfuse</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-10"><span class="icon fa fa-fw fa-cubes"></span><span class="title">Modules &amp; Blueprints</span></a>
                                <div id="dropdown-10" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/modules/marketplace/"><i class="fa fa-fw fa-shopping-cart"></i> Marketplace</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/modules/creating-a-module/"><i class="fa fa-fw fa-cube"></i> Creating a module</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/modules/creating-a-blueprint/"><i class="fa fa-fw fa-cube"></i> Creating a blueprint</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-11"><span class="icon fa fa-fw fa-wrench"></span><span class="title">Tools</span></a>
                                <div id="dropdown-11" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/jdl/"><i class="fa fa-fw fa-star"></i> JDL</a></li>
                                            <li><a href="https://start.jhipster.tech/jdl-studio/"><i class="fa fa-fw fa-terminal"></i> JDL Studio</a></li>
                                            <li >
                                                <a href="/documentation-archive/v5.6.1/jhipster-ide/"><i class="fa fa-fw fa-object-group"></i> JHipster IDE</a></li>
                                            <li >
                                                <a href="/documentation-archive/v5.6.1/jhipster-uml/"><i class="fa fa-fw fa-magic"></i> JHipster-UML</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </li>

                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-12"><span class="icon fa fa-fw fa-question"></span><span class="title">Getting help</span></a>
                                <div id="dropdown-12" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.1/help/"><i class="fa fa-fw fa-users"></i> Community help</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/bug-bounties/"><i class="fa fa-fw fa-usd"></i> Bug bounties</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/consulting/"><i class="fa fa-fw fa-user-md"></i> Professional help</a></li>
                                            <li ><a href="/documentation-archive/v5.6.1/training/"><i class="fa fa-fw fa-graduation-cap"></i> Training</a></li>
                                        </ul>
                                     </div>
                                </div>
                            </li>
                            <li ><a href="/documentation-archive/v5.6.1/tips/"><span class="icon fa fa-fw fa-cogs"></span><span class="title">Tips'n tricks</span></a></li>
                        </ul>
                    </div>
                    <!-- /.navbar-collapse -->
                </nav>
            </div>
            <!-- Main Content -->
            <div id="page-wrapper" class="container-fluid">
                <div class="side-body" id="page-top">
                    
                    <div class="row page-content-wrapper">
                        <div class="col-lg-12">
                            <h1 id="deploying-to-kubernetes">Deploying to Kubernetes</h1>

<p>This sub-generator allows deployment of your JHipster application to <a href="http://kubernetes.io/">Kubernetes</a>.</p>

<p><a href="http://kubernetes.io/"><img src="/documentation-archive/v5.6.1/images/logo/logo-kubernetes.png" alt="" /></a></p>

<h2 id="limitations">Limitations</h2>

<ul>
  <li>Cassandra is not supported yet</li>
  <li>Kubernetes v1.9+ is required</li>
</ul>

<h2 id="pre-requisites">Pre-requisites</h2>

<p>You have to install:</p>

<ul>
  <li><a href="https://docs.docker.com/installation/#installation">Docker</a></li>
  <li><a href="http://kubernetes.io/docs/user-guide/prereqs/">kubectl</a></li>
</ul>

<p>You must have a Docker registry. If you don’t have one, you can use the official <a href="https://hub.docker.com/">Docker Hub</a></p>

<h2 id="minikube">Minikube</h2>

<p><a href="https://github.com/kubernetes/minikube">Minikube</a> is a tool that makes it easy to run Kubernetes locally. Minikube runs a single-node Kubernetes cluster inside a VM on your laptop for users looking to try out Kubernetes or develop with it day-to-day.</p>

<p>You can use it to test your application before pushing it to <a href="http://kubernetes.io/">Kubernetes</a>.</p>

<h2 id="running-the-sub-generator">Running the sub-generator</h2>

<p>To generate config files for Kubernetes, run this command in a new folder:</p>

<p><code class="highlighter-rouge">jhipster kubernetes</code></p>

<p>Then answer all the questions to deploy your application.</p>

<h3 id="which-type-of-application-would-you-like-to-deploy">Which <em>type</em> of application would you like to deploy?</h3>

<p>Your type of application depends on whether you wish to deploy a microservices architecture or classical applications.</p>

<h3 id="enter-the-root-directory-where-your-applications-are-located">Enter the root directory where your applications are located</h3>

<p>Enter the path.</p>

<h3 id="which-applications-do-you-want-to-include-in-your-kubernetes-configuration">Which applications do you want to include in your Kubernetes configuration?</h3>

<p>Select your applications.</p>

<h3 id="enter-the-admin-password-used-to-secure-the-jhipster-registry-admin">Enter the admin password used to secure the JHipster Registry admin</h3>

<p>This question is only displayed if you choose microservices architecture.</p>

<h3 id="what-should-we-use-for-the-kubernetes-namespace">What should we use for the Kubernetes namespace?</h3>

<p>See the documentation on namespace <a href="http://kubernetes.io/docs/user-guide/namespaces/">here</a></p>

<h3 id="what-should-we-use-for-the-base-docker-repository-name">What should we use for the base Docker repository name?</h3>

<p>If you choose <a href="https://hub.docker.com/">Docker Hub</a> as main registry, it will be your Docker Hub login.</p>

<p>If you choose <a href="https://cloud.google.com/container-registry/">Google Container Registry</a>, then it’ll be <code class="highlighter-rouge">gcr.io/[PROJECT ID]</code>, or a regional registry, such as <code class="highlighter-rouge">eu.grc.io/[PROJECT ID]</code>, <code class="highlighter-rouge">us.gcr.io/[PROJECT ID]</code>, or <code class="highlighter-rouge">asia.gcr.io/[PROJECT ID]</code>. See <a href="https://cloud.google.com/container-registry/docs/pushing-and-pulling">Pushing and Pulling Images</a> for more detial.</p>

<h3 id="what-command-should-we-use-for-push-docker-image-to-repository">What command should we use for push Docker image to repository?</h3>

<p>The default command to push to Docker Hub is <code class="highlighter-rouge">docker image push</code></p>

<p>If you use Google Container Registry to host your Docker images, it will be: <code class="highlighter-rouge">gcloud docker push</code></p>

<h2 id="updating-your-deployed-application">Updating your deployed application</h2>

<h3 id="preparing-a-new-deployment">Preparing a new deployment</h3>

<p>When your application is already deployed, you can re-deploy it by building a new Docker image:</p>

<p><code class="highlighter-rouge">./mvnw package -Pprod -DskipTests jib:dockerBuild</code></p>

<p>Or when using Gradle:</p>

<p><code class="highlighter-rouge">./gradlew -Pprod bootWar jibDockerBuild -x test</code></p>

<h3 id="pushing-to-docker-hub">Pushing to Docker Hub</h3>

<p>Tag locally your image:</p>

<p><code class="highlighter-rouge">docker image tag application username/application</code></p>

<p>Push your image to Docker Hub:</p>

<p><code class="highlighter-rouge">docker image push username/application</code></p>

<h2 id="deploying-a-monolith-application">Deploying a monolith application</h2>

<p>Deploy your application:</p>

<p><code class="highlighter-rouge">kubectl apply -f application/</code></p>

<p>It will create a Kubernetes deployment for your application and its associated dependent services (database, Elasticsearch…) as well as a Kubernetes service to expose the application to the outside.</p>

<h2 id="deploying-a-microservice-application">Deploying a microservice application</h2>

<p>Before deploying your microservices, first deploy the service discovery service (JHipster Registry or Consul). If you selected JHipster Console or Prometheus, it is recommended to deploy them before the microservices. The sub-generator placed a README file with the correct order of execution.</p>

<h3 id="custom-namespaces">Custom namespaces</h3>

<p>It is possible to specify a custom namespace for the entire deployment. To perform custom commands, you have to specify the target namespace, like in this example:</p>

<p><code class="highlighter-rouge">kubectl get pods -n &lt;custom-namespace&gt;</code></p>

<h3 id="scaling-your-deployments">Scaling your deployments</h3>

<p>You can scale your applications using</p>

<p><code class="highlighter-rouge">kubectl scale deployment &lt;app-name&gt; --replicas &lt;replica-count&gt; </code></p>

<h3 id="zero-downtime-deployments">Zero downtime deployments</h3>

<p>The default way to update a running application in Kubernetes is to deploy a new image tag to your Docker registry and then deploy it using:</p>

<p><code class="highlighter-rouge">kubectl set image deployment/&lt;app-name&gt;-app &lt;app-name&gt;=&lt;new-image&gt;</code></p>

<p>Using livenessProbes and readinessProbe allows you to tell Kubernetes about the state of your applications, in order to ensure availability of your services. You will need a minimum of 2 replicas for every application if you want to have zero downtime deployment. This is because the rolling upgrade strategy first kills a running replica in order to place a new one. Running only one replica will cause a short downtime during upgrades.</p>

<h3 id="deploying-a-service-registry-in-kubernetes">Deploying a Service Registry in Kubernetes</h3>

<p>Although Kubernetes features its own internal service discovery with <strong>Kube-DNS</strong>, JHipster rely on Spring Cloud for service discovery, so it depends on a third party service registry like Eureka or Consul. This has the advantage of being platform independent and to work similarly in production and on a local development machine.</p>

<p>Consequently, for microservices applications, the JHipster Kubernetes sub-generator will generate Kubernetes manifest files to deploy service registries like the <strong>JHipster-Registry</strong> (based on Eureka) or <strong>Consul</strong>. Moreover, the generated microservices and gateway Kubernetes manifests will contains the appropriate configuration to register themselves to their central registry.</p>

<h3 id="managing-the-jhipster-registry-or-consul-in-kubernetes">Managing the JHipster Registry or Consul in Kubernetes</h3>

<p>For the JHipster Registry and Consul, <a href="https://kubernetes.io/docs/concepts/abstractions/controllers/statefulsets/">StatefulSets</a> configurations are provided. Those are a special kind of Kubernetes resources that can handle stateful applications and will let you scale your service registries for high availability. For more information on high-availability for Eureka and Consul refer to their respective documentation.</p>

<h3 id="centralized-configuration-in-kubernetes">Centralized configuration in Kubernetes</h3>

<p>Centralized configuration is also setup using either <strong>Spring Cloud Config Server</strong> (when using the JHipster Registry) or the <strong>Consul Key/Value store</strong> (when using Consul). By default, both configuration servers load their configuration from a Kubernetes <a href="http://kubernetes.io/docs/user-guide/configmap/">ConfigMap</a> which contains property files in this format:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>apiVersion: v1
kind: ConfigMap
metadata:
  name: application-config
  namespace: default
data:
  application.yml: |- # global properties shared by all applications
    jhipster:
      security:
        authentication:
          jwt:
            secret: secret
  gateway-prod.yml: |- # gateway application properties for the "prod" profile
    foo:
      bar: foobar
</code></pre></div></div>

<p>By default, configuration servers run in development mode, which means that YAML property files are read directly from the filesystem and hot-reloaded on changes. For production it is advised to setup configuration from a Git repository as explained in our microservice documentation for the <a href="/documentation-archive/v5.6.1/jhipster-registry">JHipster-Registry config server</a> and <a href="/documentation-archive/v5.6.1/consul">Consul config server</a>.</p>

<h3 id="exposing-headless-services">Exposing headless services</h3>

<p>The registry is deployed using a headless service in Kubernetes, so the primary service has no IP address, and cannot get a node port. You can create a secondary service for any type, using:</p>

<p><code class="highlighter-rouge">kubectl expose service jhipster-registry --type=NodePort --name=exposed-registry </code></p>

<p>and explore the details using</p>

<p><code class="highlighter-rouge">kubectl get svc exposed-registry </code></p>

<p>For scaling the JHipster Registry, use</p>

<p><code class="highlighter-rouge">kubectl scale statefulset jhipster-registry --replicas 3 </code></p>

<h2 id="monitoring-tools">Monitoring tools</h2>

<p>The sub-generator provides monitoring tools and configuration for usage with your applications.</p>

<h3 id="jhipster-console">JHipster Console</h3>

<p>Your application logs can be found in JHipster Console (powered by Kibana). You can find its service details by
<code class="highlighter-rouge">kubectl get svc jhipster-console </code></p>

<p>Point your browser to an IP of any of your nodes and use the node port described in the output.</p>

<h3 id="prometheus-metrics">Prometheus metrics</h3>

<p>If not already done, install the <a href="https://github.com/coreos/prometheus-operator">Prometheus operator by CoreOS</a>. You can quickly deploy the operator using</p>

<p><code class="highlighter-rouge">kubectl create -f https://raw.githubusercontent.com/coreos/prometheus-operator/master/bundle.yaml</code></p>

<p><strong>hint</strong>: More information on how to enable and protect prometheus metrics in your application you can find in our <a href="/documentation-archive/v5.6.1/monitoring/#configuring-metrics-forwarding">monitoring documentation</a>.</p>

<p>The Prometheus instance for your applications can be explored using</p>

<p><code class="highlighter-rouge">kubectl get svc prometheus-appname </code></p>

<h2 id="taking-advantage-of-kubernetes">Taking Advantage of Kubernetes</h2>

<p>Kubernetes offers a number of facilities out-of-the-box to help with Microservices deployments, such as:</p>
<ul>
  <li>Service Registry - Kubernetes <code class="highlighter-rouge">Service</code> is a first-class citizen that provides service registry and lookup via DNS name.</li>
  <li>Load Balancing - Kubernetes Service acts as a L4 load balancer</li>
  <li>Health Check - Liveness probes and readiness probes help determine the health of the service.</li>
  <li>Configuration - Kubernetes <code class="highlighter-rouge">ConfigMap</code> can be used to store and apply configuration outside of the application.</li>
</ul>

<p>There are a number of benefits of using Kubernetes facilities:</p>
<ul>
  <li>Simplified deployment</li>
  <li>No need for additional Eureka/Consul deployment</li>
  <li>No need for Zuul to proxy/route requests</li>
  <li>No need for Ribbon</li>
</ul>

<p>At the same time, there are some drawbacks:</p>
<ul>
  <li>No Application Management through JHipster Registry - This function relies on Spring Cloud’s <code class="highlighter-rouge">DiscoveryClient</code>. This can be updated in the future to add <code class="highlighter-rouge">spring-cloud-kubernetes</code></li>
  <li>No local Docker Compose support - You must use <code class="highlighter-rouge">minikube</code> for local development, and use Ingress to route traffic</li>
  <li>No request-level load balancing - Kubernetes Service is a L4 load balancer that load balances per connection. Use Istio for request level load balancing (see below).</li>
</ul>

<h3 id="using-kubernetes-as-service-registry">Using Kubernetes as Service Registry</h3>

<p>To avoid relying on Eureka or Consul, you’ll need to disable service discovery altogether</p>
<ul>
  <li>When asked <code class="highlighter-rouge">Which service discovery server do you want to use?</code>, simply choose <code class="highlighter-rouge">No service discovery</code></li>
</ul>

<p>A JHipster Gateway usually fronts the API calls and routing these calls using <code class="highlighter-rouge">Zuul</code>. Without a service registry, routing via <code class="highlighter-rouge">Zuul</code> won’t work. You’ll need to use Kubernetes <code class="highlighter-rouge">Ingress</code> to route the traffic to microservices.</p>
<ul>
  <li>When asked <code class="highlighter-rouge">Choose the kubernetes service type for your edge services</code>, choose <code class="highlighter-rouge">Ingress</code>.</li>
</ul>

<h2 id="istio">Istio</h2>

<p>You can deploy microservices into <a href="https://istio.io">Istio</a>-enabled Kubernetes cluster. While Kubernetes manages microservices deployment and configuration, Istio can manage service to service communication, such as request-level load balancing, retries, circuit breakers, traffic routing/splitting, and more.</p>

<p>To enable Istio support:</p>
<ul>
  <li>When asked <code class="highlighter-rouge">Do you want to configure Istio?</code>, choose one of the Istio options</li>
  <li>When asked <code class="highlighter-rouge">Do you want to generate Istio route files</code>, choose <code class="highlighter-rouge">Yes</code> to generate default configuration for circuit breaking, etc.</li>
</ul>

<h2 id="troubleshooting">Troubleshooting</h2>

<blockquote>
  <p>My applications don’t get pulled, because of ‘imagePullBackoff’</p>
</blockquote>

<p>Check the registry your Kubernetes cluster is accessing. If you are using a private registry, you should add it to your namespace by <code class="highlighter-rouge">kubectl create secret docker-registry</code> (check the <a href="https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/">docs</a> for more information).</p>

<blockquote>
  <p>My applications get killed, before they can boot up</p>
</blockquote>

<p>This can occur, if your cluster has low resources (e.g. Minikube). Increase the <code class="highlighter-rouge">initialDelySeconds</code> value of livenessProbe of your deployments.</p>

<blockquote>
  <p>My applications are starting very slow, despite I have a cluster with many resources</p>
</blockquote>

<p>The default setting is optimized for middle-scale clusters. You are free to increase the JAVA_OPTS environment variable, resource requests and limits to improve the performance. Be careful!</p>

<blockquote>
  <p>I have selected Prometheus but no targets are visible</p>
</blockquote>

<p>This depends on the setup of Prometheus operator and the access control policies in your cluster. Version 1.6.0+ is needed for the RBAC setup to work.</p>

<blockquote>
  <p>I have selected Prometheus, but my targets never get scraped</p>
</blockquote>

<p>This means your applications are probably not built using the <code class="highlighter-rouge">prometheus</code> profile in Maven/Gradle</p>

<blockquote>
  <p>My SQL-based microservice are stuck during Liquibase initialization when running multiple replicas</p>
</blockquote>

<p>Sometimes the database changelog lock gets corrupted. You will need to connect to the database using <code class="highlighter-rouge">kubectl exec -it</code> and removes all lines of liquibases <code class="highlighter-rouge">databasechangeloglock</code> table.</p>

<h2 id="more-information">More information</h2>

<ul>
  <li><a href="http://kubernetes.io/docs/">Kubernetes documentation</a></li>
</ul>

                        </div>
                    </div>
                    <!-- /.row -->
                    

                    <!-- Footer -->
                    <footer class="text-center">
                        
                        <hr>
                        <div class="footer-logos">
                            <div class="container">
                                <div class="row">
                                    <div class="col-12">
                                        JHipster is sponsored by:
                                    </div>
                                    <!-- change to below commented line when adding more logos -->
                                    <!-- <div class="col-xs-12 col-sm-6 col-md-4"> -->
                                    <div class="col-md-offset-4 col-sm-12 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.6.1/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    <!--
                                    <div class="col-xs-12 col-sm-6 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.6.1/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.6.1/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="footer-above">
                            <div class="container">
                                <div class="row">
                                    <div class="footer-col col-md-4">
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-coffee fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.1/team/">Team</a></h5>
                                            <h5 class="text-left"><i class="fa fa-pencil fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.1/artwork/">Artwork</a></h5>
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-gavel fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.1/policies/">Policies</a></h5>
                                            <h5 class="text-left"><i class="fa fa-meetup fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.1/meetups/">Meetups</a></h5>
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-database fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.1/documentation-archive/">Archives</a></h5>
                                        </div>
                                    </div>
                                    <div class="footer-col col-md-4">
                                        <ul class="list-inline">
                                            <li>
                                                <a href="https://twitter.com/java_hipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                                            </li>
                                            <li>
                                                <a href="https://github.com/jhipster/generator-jhipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-github"></i></a>
                                            </li>
                                            <li>
                                                <a href="https://gitter.im/jhipster/generator-jhipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-comments"></i></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="footer-below">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-12">
                                        Copyright &copy; JHipster 2013-2018 | Theme based on <a href="https://github.com/IronSummitMedia/startbootstrap-freelancer" target="_blank">Freelancer</a> and <a href="https://github.com/tui2tone/flat-admin-bootstrap-templates" target="_blank">Flat admin</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
                <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
                <div class="scroll-top page-scroll visible-xs visible-sm">
                    <a class="btn btn-primary" href="#page-top">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <!-- /#page-wrapper -->
        </div>
        <!-- /#wrapper -->
    </div>
    <!-- Javascript Libs -->
    <script type="text/javascript" src="/documentation-archive/v5.6.1/lib/js/jquery.min.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.1/lib/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.1/lib/js/ace.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.1/lib/js/mode-html.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.1/lib/js/theme-github.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.1/lib/js/jquery.easing.min.js"></script>

    

    <!--App Javascript -->
    <script type="text/javascript" src="/documentation-archive/v5.6.1/js/app.js"></script>
    
    
    
    <script>
    if (self !== top) {
        window.top.location.href = "https://www.jhipster.tech";
    }
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-46075199-1', 'auto');
        ga('send', 'pageview');
    </script>
</body>

</html>
<script>
$(document.body).prepend('<div class="alert alert-danger alert-dismissible fade in" style="z-index: 9999;padding-top: 80px;height: 80;margin:0px;top:0;" role="alert"><h4><i class="fa fa-exclamation-triangle"><\/i> JHipster old documentation<\/h4><p>This documentation is for an older version of JHipster. Click <a href="https://jhipster.github.io/">here</a> for the current version of the documentation.<\/p><\/div>');</script>
