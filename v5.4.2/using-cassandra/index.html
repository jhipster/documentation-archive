<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#353d47">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#353d47">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#353d47">
    <title>Using Cassandra</title>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">

    <!-- CSS Libs -->
    <link rel="stylesheet" type="text/css" href="/lib/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/dataTables.bootstrap.css">
    <!-- CSS App -->
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/themes/flat-blue.css">
    
    <!-- Bootstrap Docs CSS subset to get icon -->
    <!--<link href="/css/bootstrap-docs.css" rel="stylesheet">-->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicon with QHD -->
    <link rel="icon" type="image/png" href="/images/logo/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/images/logo/favicon-16x16.png" sizes="16x16" />
<meta name="robots" content="noindex">
</head>

<body class="flat-blue">
    <div class="app-container expanded ">
        <div class="row content-container">
            <nav class="navbar navbar-inverse navbar-fixed-top navbar-top">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-expand-toggle fa-rotate-90">
                            <i class="fa fa-bars icon"></i>
                        </button>
                        <ol class="breadcrumb navbar-breadcrumb">
                            <li class="active"></li>
                        </ol>
                        <button type="button" class="navbar-right-expand-toggle pull-right visible-xs">
                            <i class="fa fa-th icon"></i>
                        </button>
                    </div>
                    <ul class="nav navbar-nav navbar-right">
                        
                        
                        <li class="page-scroll">
                            <a href="/documentation-archive/v5.4.2/sponsors/">Sponsor</a>
                        </li>
                        
                        <li class="">
                            <a href="https://www.google.com/search?q=site:www.jhipster.tech" target="_blank">Search</a>
                        </li>
                        <li>
                            <a href="https://github.com/jhipster/generator-jhipster" class="dropdown-toggle navlink" target="_blank" role="button"><i class="fa fa-github fa-2x"></i></a>
                        </li>
                        <li>
                            <button type="button" class="navbar-right-expand-toggle visible-xs pull-right light">
                                <i class="fa fa-times icon"></i>
                            </button>
                        </li>
                    </ul>

                </div>
            </nav>
            <div class="side-menu sidebar-inverse">
                <nav class="navbar navbar-default" role="navigation">
                    <div class="side-menu-container">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="/">
                                <div class="icon"><img src="/documentation-archive/v5.4.2/images/logo/logo-jhipster.svg" height="50px"></div>
                                <div class="title brand">JHipster </div>
                            </a>
                            <button type="button" class="navbar-expand-toggle pull-right visible-xs">
                                <i class="fa fa-times icon"></i>
                            </button>
                        </div>
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="/">
                                    <span class="icon fa fa-home"></span><span class="title">Home</span>
                                </a>
                            </li>
                            <li >
                                <a href="/documentation-archive/v5.4.2/releases/">
                                    <span class="icon fa fa-file-text-o"></span><span class="title">Release notes</span>
                                </a>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-1">
                                    <span class="icon fa fa-road"></span><span class="title">JHipster in a few minutes</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-1" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/tech-stack/"><i class="fa fa-fw fa-stack-overflow"></i> Technology stack</a></li>
                                            <li ><a href="/presentation" target="_blank"><i class="fa fa-fw fa-desktop"></i> Official JHipster slides</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/screenshots/"><i class="fa fa-fw fa-picture-o"></i> JHipster in 5 screenshots</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/video-tutorial/"><i class="fa fa-fw fa-film"></i> Video tutorial (16 minutes)</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/companies-using-jhipster/"><i class="fa fa-fw fa-thumbs-up"></i> Companies using JHipster</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/showcase/"><i class="fa fa-fw fa-file-image-o"></i> Showcase of JHipster apps</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-2">
                                    <span class="icon fa fa-handshake-o"></span><span class="title">Contributing</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-2" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/sponsors/"><i class="fa fa-fw fa-usd"></i> Financial sponsors</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/contributing-individuals/"><i class="fa fa-fw fa-keyboard-o"></i> Contributing individuals</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/contributing-companies/"><i class="fa fa-fw fa-building"></i> Contributing companies</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-3">
                                    <span class="icon fa fa-fw fa-wrench"></span><span class="title">Setting up your environment</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-3" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/installation/"><i class="fa fa-fw fa-cloud-download"></i> Installing JHipster</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/configuring-a-corporate-proxy/"><i class="fa fa-fw fa-exchange"></i> Configuring a proxy</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/configuring-ide/"><i class="fa fa-fw fa-keyboard-o"></i> Configuring your IDE</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/docker-compose/"><i class="fa fa-fw fa-music"></i> Docker Compose</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/shell-plugins/"><i class="fa fa-fw fa-terminal"></i> Shell Plugins</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-4"><span class="icon fa fa-fw fa-list-ol"></span><span class="title">Core JHipster tasks</span></a>
                                <div id="dropdown-4" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/creating-an-app/"><i class="fa fa-fw fa-rocket"></i> Creating an application</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/creating-an-entity/"><i class="fa fa-fw fa-bolt"></i> Creating an entity</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/creating-a-spring-controller/"><i class="fa fa-fw fa-bolt"></i> Creating a Spring controller</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/creating-a-spring-service/"><i class="fa fa-fw fa-bolt"></i> Creating a Spring service</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-dtos/"><i class="fa fa-fw fa-briefcase"></i> Creating DTOs</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/managing-relationships/"><i class="fa fa-fw fa-sitemap"></i> Managing relationships</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/installing-new-languages/"><i class="fa fa-fw fa-flag"></i> Internationalization</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/upgrading-an-application/"><i class="fa fa-fw fa-refresh"></i> Upgrading an application</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-5"><span class="icon fa fa-fw fa-sitemap"></span><span class="title">Microservices</span></a>
                                <div id="dropdown-5" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/microservices-architecture/"><i class="fa fa-fw fa-map-signs"></i> Overview</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/api-gateway/"><i class="fa fa-fw fa-exchange"></i> API Gateway</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/traefik/"><i class="fa fa-fw fa-exchange"></i> Traefik</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/jhipster-registry/"><i class="fa fa-fw  fa-dashboard"></i> JHipster Registry</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/consul/"><i class="fa fa-fw fa-bullseye"></i> Consul</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-uaa/"><i class="fa fa-fw fa-lock"></i> JHipster UAA</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/creating-microservices/"><i class="fa fa-fw fa-bolt"></i> Creating microservices</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/microservices-in-production/"><i class="fa fa-fw fa-cloud"></i> Microservices in production</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-6"><span class="icon fa fa-fw fa-puzzle-piece"></span><span class="title">Options</span></a>
                                <div id="dropdown-6" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/security/"><i class="fa fa-fw fa-lock"></i> Securing your app</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/entities-filtering/"><i class="fa fa-fw fa-filter"></i> Filtering your entities</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-elasticsearch/"><i class="fa fa-fw fa-search"></i> Using Elasticsearch</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-websockets/"><i class="fa fa-fw fa-envelope"></i> Using Websockets</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/doing-api-first-development/"><i class="fa fa-fw fa-file-text"></i> Doing API-First development</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-cache/"><i class="fa fa-fw fa-line-chart"></i> Using a cache</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-oracle/"><i class="fa fa-fw fa-database"></i> Using Oracle</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-mongodb/"><i class="fa fa-fw fa-leaf"></i> Using MongoDB</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-couchbase/"><i class="fa fa-fw fa-database"></i> Using Couchbase</a></li>
                                            <li class="active" ><a href="/documentation-archive/v5.4.2/using-cassandra/"><i class="fa fa-fw fa-eye"></i> Using Cassandra</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-kafka/"><i class="fa fa-fw fa-envelope"></i> Using Kafka</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-7"><span class="icon fa fa-fw fa-code"></span><span class="title">Development</span></a>
                                <div id="dropdown-7" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/development/"><i class="fa fa-fw fa-code"></i> Using in development</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/profiles/"><i class="fa fa-fw fa-group"></i> Managing profiles</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/common-application-properties/"><i class="fa fa-fw fa-flask"></i> Common application properties</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/separating-front-end-and-api/"><i class="fa fa-fw fa-unlink"></i> Separating front-end and API</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/managing-server-errors/"><i class="fa fa-fw fa-fire-extinguisher"></i> Managing server errors</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-angular/"><i class="fa fa-fw fa-html5"></i> Using Angular</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/using-react/"><i class="fa fa-fw fa-html5"></i> Using React</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/customizing-bootstrap-4/"><i class="fa fa-fw fa-css3"></i> Customizing Bootstrap 4</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/tls/"><i class="fa fa-fw fa-lock"></i> Using TLS and HTTP/2</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-8"><span class="icon fa fa-fw fa-umbrella"></span><span class="title">Test &amp; QA</span></a>
                                <div id="dropdown-8" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/running-tests/"><i class="fa fa-fw fa-shield"></i> Running tests</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/code-quality/"><i class="fa fa-fw fa-diamond"></i> Code quality</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/dependency-vulnerabities-check/"><i class="fa fa-fw fa-check-circle-o"></i> Dependency Vulnerabilities Check</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/setting-up-ci/"><i class="fa fa-fw fa-stethoscope"></i> Continuous Integration</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-9"><span class="icon fa fa-fw fa-cloud"></span><span class="title">Production</span></a>
                                <div id="dropdown-9" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/production/"><i class="fa fa-fw fa-play-circle"></i> Using in production</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/monitoring/"><i class="fa fa-fw fa-line-chart"></i> Monitoring</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/docker-hub/"><i class="fa fa-fw fa-cloud-upload"></i> Docker Hub</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/kubernetes/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Kubernetes</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/openshift/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to OpenShift</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/heroku/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Heroku</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/cloudfoundry/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Cloud Foundry</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/aws/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to AWS</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/azure/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Azure</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/rancher/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Rancher</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/boxfuse/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying with Boxfuse</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-10"><span class="icon fa fa-fw fa-cubes"></span><span class="title">Modules &amp; Blueprints</span></a>
                                <div id="dropdown-10" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/modules/marketplace/"><i class="fa fa-fw fa-shopping-cart"></i> Marketplace</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/modules/creating-a-module/"><i class="fa fa-fw fa-cube"></i> Creating a module</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/modules/creating-a-blueprint/"><i class="fa fa-fw fa-cube"></i> Creating a blueprint</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-11"><span class="icon fa fa-fw fa-wrench"></span><span class="title">Tools</span></a>
                                <div id="dropdown-11" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/jdl/"><i class="fa fa-fw fa-star"></i> JDL</a></li>
                                            <li><a href="https://start.jhipster.tech/jdl-studio/"><i class="fa fa-fw fa-terminal"></i> JDL Studio</a></li>
                                            <li >
                                                <a href="/documentation-archive/v5.4.2/jhipster-ide/"><i class="fa fa-fw fa-object-group"></i> JHipster IDE</a></li>
                                            <li >
                                                <a href="/documentation-archive/v5.4.2/jhipster-uml/"><i class="fa fa-fw fa-magic"></i> JHipster-UML</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </li>

                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-12"><span class="icon fa fa-fw fa-question"></span><span class="title">Getting help</span></a>
                                <div id="dropdown-12" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.4.2/help/"><i class="fa fa-fw fa-users"></i> Community help</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/bug-bounties/"><i class="fa fa-fw fa-usd"></i> Bug bounties</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/consulting/"><i class="fa fa-fw fa-user-md"></i> Professional help</a></li>
                                            <li ><a href="/documentation-archive/v5.4.2/training/"><i class="fa fa-fw fa-graduation-cap"></i> Training</a></li>
                                        </ul>
                                     </div>
                                </div>
                            </li>
                            <li ><a href="/documentation-archive/v5.4.2/tips/"><span class="icon fa fa-fw fa-cogs"></span><span class="title">Tips'n tricks</span></a></li>
                        </ul>
                    </div>
                    <!-- /.navbar-collapse -->
                </nav>
            </div>
            <!-- Main Content -->
            <div id="page-wrapper" class="container-fluid">
                <div class="side-body" id="page-top">
                    
                    <div class="row page-content-wrapper">
                        <div class="col-lg-12">
                            <h1 id="-using-cassandra"><i class="fa fa-eye"></i> Using Cassandra</h1>

<p>Cassandra is one of the supported databases that can be selected when your application is being generated.</p>

<p>This generator has one limitation:</p>

<ul>
  <li>It does not support OAuth2 authentication (we need to implement a Cassandra back-end to Spring Security’s OAuth2 server)</li>
</ul>

<p>When Cassandra is selected:</p>

<ul>
  <li>The Cassandra CQL driver is used to access the database. We don’t use Spring Data Cassandra, as we prefer to use the driver directly. As a result, the repositories contain quite a lot of code</li>
  <li>The <a href="/documentation-archive/v5.4.2/creating-an-entity/">entity sub-generator</a> will not ask you for entity relationships, as you can’t have relationships with a NoSQL database (at least not in the way you have relationships with JPA)</li>
  <li>The generated entities only support one partition key, which is the ID. Future versions will provide composite primary keys and clustering keys</li>
</ul>

<h2 id="beta-migration-tool"><strong><em>[BETA]</em></strong> Migration tool</h2>

<p>Similar to <a href="http://www.liquibase.org/">Liquibase</a>, JHipster provide a tool to apply your CQL migration scripts, with some restrictions:</p>

<ul>
  <li>The tool is not run by the application itself when it is started but inside a Docker container or manually</li>
  <li>All CQL scripts must follow the pattern <code class="highlighter-rouge">{timestamp}_{description}.cql</code> and be placed in the changelog directory: <code class="highlighter-rouge">src/main/resources/config/cql/changelog/</code></li>
  <li>All non already applied scripts located in the changelog directory are applied in alphabetical order (ie: following the timestamp)</li>
  <li>Because Cassandra is not a transactional database, if an error happen before inserting the metadata in the table used by the tool there is a risk to have your CQL migration script run multiple times</li>
</ul>

<p>Some information on the tool:</p>

<ul>
  <li>After generating an entity, its CQL file will be generated in <code class="highlighter-rouge">src/main/resources/config/cql/changelog/</code> in the same way we generate Liquibase changelogs for JPA</li>
  <li>For running tests, all the CQL scripts in the <code class="highlighter-rouge">src/main/resources/config/cql/changelog/</code> directory are automically applied to the in memory cluster
    <ul>
      <li>Meaning you have nothing to do but to drop your script in the changelog directory to have it applied for the tests</li>
    </ul>
  </li>
  <li>The tool uses its own cassandra table <code class="highlighter-rouge">schema_version</code> to store the metadata info</li>
</ul>

<p>The tool will apply the migration scripts from <code class="highlighter-rouge">src/main/resources/config/cql/</code> in the following order:</p>

<ol>
  <li><code class="highlighter-rouge">create-keyspace.cql</code> - create the keyspace and the <code class="highlighter-rouge">schema_version</code> table to store the migration metadata</li>
  <li>all <code class="highlighter-rouge">cql/changelog/\*.cql</code> files in alphabetical order</li>
</ol>

<h3 id="running-the-tool">Running the tool</h3>

<p>Depending if you are using Docker or not, you have several options to run the migration tool.</p>

<h4 id="with-docker">With Docker:</h4>

<p>If you have started the Cassandra cluster with docker-compose, using the generated <code class="highlighter-rouge">app.yml</code> or <code class="highlighter-rouge">cassandra.yml</code> compose files, the tool has already been run and all cql scripts applied.</p>

<p>After adding a CQL script in the changelog directory, you can relaunch the docker-service responsible to run the migration service again without stopping the cluster:<br />
<code class="highlighter-rouge">docker-compose -f src/main/docker/cassandra.yml up &lt;app&gt;-cassandra-migration</code></p>

<h4 id="manually">Manually:</h4>

<p>With some prerequisites, you can run the tool manually. It could be useful to familiarize you with the tool to later include it to your deployment pipeline.</p>

<h5 id="prerequisites">Prerequisites:</h5>

<ul>
  <li>Add the Cassandra contact point environment variable, typically locally: <code class="highlighter-rouge">export CASSANDRA_CONTACT_POINT=`127.0.0.1`</code></li>
  <li>Install a recent (&gt;4) bash version and md5sum with your favorite package manager</li>
  <li>Have CQLSH in your classpath</li>
</ul>

<p>To run the tool use this command: <code class="highlighter-rouge">src/main/docker/cassandra/scripts/autoMigrate.sh src/main/resources/config/cql/changelog/</code></p>

<p>By default, the <code class="highlighter-rouge">src/main/resources/config/create-keyspace.cql</code> script is used to create the keyspace if necessary.
You can override it with a second argument: <code class="highlighter-rouge">src/main/docker/cassandra/scripts/autoMigrate.sh src/main/resources/config/cql/changelog/ create-keyspace-prod.cql</code></p>

<p>If you only want to execute a specific script against your cluster use: <code class="highlighter-rouge">src/main/docker/cassandra/scripts/execute-cql.sh src/main/resources/config/cql/changelog/&lt;your script&gt;.cql</code></p>

<h2 id="cassandra-and-docker-on-non-linux-oss">Cassandra and Docker on non-linux OSs</h2>

<p>On Mac OSx and Windows, Docker containers are not hosted directly but on a VirtualBox VM.<br />
Those, you can not access them in localhost but have to hit the VirtualBox IP.</p>

<p>You can override the Cassandra contact point (localhost by default) with this environment variable: <code class="highlighter-rouge">export SPRING_DATA_CASSANDRA_CONTACTPOINTS=`docker-machine ip default`</code></p>

<h4 id="cassandra-nodes">Cassandra nodes:</h4>

<p>Because Cassandra nodes are also hosted in the Virtual machine, the Cassandra Java driver will receive an error when trying to contact them after receiving their address from the contact point.<br />
To workaround this, you can add a routing rule to your routing table, <a href="http://krasserm.github.io/2015/07/13/chaos-testing-with-docker-and-cassandra/#port-mapping">(source)</a>.</p>

<p>Assuming the containers running the Cassandra nodes have IP address 172.18.0.x:<br />
<code class="highlighter-rouge">sudo route -n add 172.18.0.0/16 `docker-machine ip default`</code></p>

                        </div>
                    </div>
                    <!-- /.row -->
                    

                    <!-- Footer -->
                    <footer class="text-center">
                        
                        <hr>
                        <div class="footer-logos">
                            <div class="container">
                                <div class="row">
                                    <div class="col-12">
                                        JHipster is sponsored by:
                                    </div>
                                    <!-- change to below commented line when adding more logos -->
                                    <!-- <div class="col-xs-12 col-sm-6 col-md-4"> -->
                                    <div class="col-md-offset-4 col-sm-12 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.4.2/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    <!--
                                    <div class="col-xs-12 col-sm-6 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.4.2/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.4.2/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="footer-above">
                            <div class="container">
                                <div class="row">
                                    <div class="footer-col col-md-4">
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-coffee fa-fw"></i> <a class="link" href="/documentation-archive/v5.4.2/team/">Team</a></h5>
                                            <h5 class="text-left"><i class="fa fa-pencil fa-fw"></i> <a class="link" href="/documentation-archive/v5.4.2/artwork/">Artwork</a></h5>
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-gavel fa-fw"></i> <a class="link" href="/documentation-archive/v5.4.2/policies/">Policies</a></h5>
                                            <h5 class="text-left"><i class="fa fa-meetup fa-fw"></i> <a class="link" href="/documentation-archive/v5.4.2/meetups/">Meetups</a></h5>
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-database fa-fw"></i> <a class="link" href="/documentation-archive/v5.4.2/documentation-archive/">Archives</a></h5>
                                        </div>
                                    </div>
                                    <div class="footer-col col-md-4">
                                        <ul class="list-inline">
                                            <li>
                                                <a href="https://twitter.com/java_hipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                                            </li>
                                            <li>
                                                <a href="https://github.com/jhipster/generator-jhipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-github"></i></a>
                                            </li>
                                            <li>
                                                <a href="https://gitter.im/jhipster/generator-jhipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-comments"></i></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="footer-below">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-12">
                                        Copyright &copy; JHipster 2013-2018 | Theme based on <a href="https://github.com/IronSummitMedia/startbootstrap-freelancer" target="_blank">Freelancer</a> and <a href="https://github.com/tui2tone/flat-admin-bootstrap-templates" target="_blank">Flat admin</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
                <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
                <div class="scroll-top page-scroll visible-xs visible-sm">
                    <a class="btn btn-primary" href="#page-top">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <!-- /#page-wrapper -->
        </div>
        <!-- /#wrapper -->
    </div>
    <!-- Javascript Libs -->
    <script type="text/javascript" src="/documentation-archive/v5.4.2/lib/js/jquery.min.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.4.2/lib/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.4.2/lib/js/ace.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.4.2/lib/js/mode-html.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.4.2/lib/js/theme-github.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.4.2/lib/js/jquery.easing.min.js"></script>

    

    <!--App Javascript -->
    <script type="text/javascript" src="/documentation-archive/v5.4.2/js/app.js"></script>
    
    
    
    <script>
    if (self !== top) {
        window.top.location.href = "https://www.jhipster.tech";
    }
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-46075199-1', 'auto');
        ga('send', 'pageview');
    </script>
</body>

</html>
<script>
$(document.body).prepend('<div class="alert alert-danger alert-dismissible fade in" style="z-index: 9999;padding-top: 80px;height: 80;margin:0px;top:0;" role="alert"><h4><i class="fa fa-exclamation-triangle"><\/i> JHipster old documentation<\/h4><p>This documentation is for an older version of JHipster. Click <a href="https://jhipster.github.io/">here</a> for the current version of the documentation.<\/p><\/div>');</script>
