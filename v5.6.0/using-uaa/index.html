<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#353d47">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#353d47">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-status-bar-style" content="#353d47">
    <title>Using JHipster UAA for Microservice Security</title>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:300,400' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Pacifico" rel="stylesheet" type="text/css">

    <!-- CSS Libs -->
    <link rel="stylesheet" type="text/css" href="/lib/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/jquery.dataTables.min.css">
    <link rel="stylesheet" type="text/css" href="/lib/css/dataTables.bootstrap.css">
    <!-- CSS App -->
    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <link rel="stylesheet" type="text/css" href="/css/themes/flat-blue.css">
    
    <!-- Bootstrap Docs CSS subset to get icon -->
    <!--<link href="/css/bootstrap-docs.css" rel="stylesheet">-->

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Favicon with QHD -->
    <link rel="icon" type="image/png" href="/images/logo/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/images/logo/favicon-16x16.png" sizes="16x16" />
<meta name="robots" content="noindex">
</head>

<body class="flat-blue">
    <div class="app-container expanded ">
        <div class="row content-container">
            <nav class="navbar navbar-inverse navbar-fixed-top navbar-top">
                <div class="container-fluid">
                    <div class="navbar-header">
                        <button type="button" class="navbar-expand-toggle fa-rotate-90">
                            <i class="fa fa-bars icon"></i>
                        </button>
                        <ol class="breadcrumb navbar-breadcrumb">
                            <li class="active"></li>
                        </ol>
                        <button type="button" class="navbar-right-expand-toggle pull-right visible-xs">
                            <i class="fa fa-th icon"></i>
                        </button>
                    </div>
                    <ul class="nav navbar-nav navbar-right">
                        
                        
                        <li class="page-scroll">
                            <a href="/documentation-archive/v5.6.0/sponsors/">Sponsor</a>
                        </li>
                        
                        <li class="">
                            <a href="https://www.google.com/search?q=site:www.jhipster.tech" target="_blank">Search</a>
                        </li>
                        <li>
                            <a href="https://github.com/jhipster/generator-jhipster" class="dropdown-toggle navlink" target="_blank" role="button"><i class="fa fa-github fa-2x"></i></a>
                        </li>
                        <li>
                            <button type="button" class="navbar-right-expand-toggle visible-xs pull-right light">
                                <i class="fa fa-times icon"></i>
                            </button>
                        </li>
                    </ul>

                </div>
            </nav>
            <div class="side-menu sidebar-inverse">
                <nav class="navbar navbar-default" role="navigation">
                    <div class="side-menu-container">
                        <div class="navbar-header">
                            <a class="navbar-brand" href="/">
                                <div class="icon"><img src="/documentation-archive/v5.6.0/images/logo/logo-jhipster.svg" height="50px"></div>
                                <div class="title brand">JHipster </div>
                            </a>
                            <button type="button" class="navbar-expand-toggle pull-right visible-xs">
                                <i class="fa fa-times icon"></i>
                            </button>
                        </div>
                        <ul class="nav navbar-nav">
                            <li >
                                <a href="/">
                                    <span class="icon fa fa-home"></span><span class="title">Home</span>
                                </a>
                            </li>
                            <li >
                                <a href="/documentation-archive/v5.6.0/releases/">
                                    <span class="icon fa fa-file-text-o"></span><span class="title">Release notes</span>
                                </a>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-1">
                                    <span class="icon fa fa-road"></span><span class="title">JHipster in a few minutes</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-1" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/tech-stack/"><i class="fa fa-fw fa-stack-overflow"></i> Technology stack</a></li>
                                            <li ><a href="/presentation" target="_blank"><i class="fa fa-fw fa-desktop"></i> Official JHipster slides</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/screenshots/"><i class="fa fa-fw fa-picture-o"></i> JHipster in 5 screenshots</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/video-tutorial/"><i class="fa fa-fw fa-film"></i> Video tutorial (16 minutes)</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/companies-using-jhipster/"><i class="fa fa-fw fa-thumbs-up"></i> Companies using JHipster</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/showcase/"><i class="fa fa-fw fa-file-image-o"></i> Showcase of JHipster apps</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-2">
                                    <span class="icon fa fa-handshake-o"></span><span class="title">Contributing</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-2" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/sponsors/"><i class="fa fa-fw fa-usd"></i> Financial sponsors</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/contributing-individuals/"><i class="fa fa-fw fa-keyboard-o"></i> Contributing individuals</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/contributing-companies/"><i class="fa fa-fw fa-building"></i> Contributing companies</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-3">
                                    <span class="icon fa fa-fw fa-wrench"></span><span class="title">Setting up your environment</span>
                                </a>
                                <!-- Dropdown level 1 -->
                                <div id="dropdown-3" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/installation/"><i class="fa fa-fw fa-cloud-download"></i> Installing JHipster</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/configuring-a-corporate-proxy/"><i class="fa fa-fw fa-exchange"></i> Configuring a proxy</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/configuring-ide/"><i class="fa fa-fw fa-keyboard-o"></i> Configuring your IDE</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/docker-compose/"><i class="fa fa-fw fa-music"></i> Docker Compose</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/shell-plugins/"><i class="fa fa-fw fa-terminal"></i> Shell Plugins</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-4"><span class="icon fa fa-fw fa-list-ol"></span><span class="title">Core JHipster tasks</span></a>
                                <div id="dropdown-4" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/creating-an-app/"><i class="fa fa-fw fa-rocket"></i> Creating an application</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/creating-an-entity/"><i class="fa fa-fw fa-bolt"></i> Creating an entity</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/creating-a-spring-controller/"><i class="fa fa-fw fa-bolt"></i> Creating a Spring controller</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/creating-a-spring-service/"><i class="fa fa-fw fa-bolt"></i> Creating a Spring service</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-dtos/"><i class="fa fa-fw fa-briefcase"></i> Creating DTOs</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/managing-relationships/"><i class="fa fa-fw fa-sitemap"></i> Managing relationships</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/installing-new-languages/"><i class="fa fa-fw fa-flag"></i> Internationalization</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/upgrading-an-application/"><i class="fa fa-fw fa-refresh"></i> Upgrading an application</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-5"><span class="icon fa fa-fw fa-sitemap"></span><span class="title">Microservices</span></a>
                                <div id="dropdown-5" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/microservices-architecture/"><i class="fa fa-fw fa-map-signs"></i> Overview</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/api-gateway/"><i class="fa fa-fw fa-exchange"></i> API Gateway</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/traefik/"><i class="fa fa-fw fa-exchange"></i> Traefik</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/jhipster-registry/"><i class="fa fa-fw  fa-dashboard"></i> JHipster Registry</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/consul/"><i class="fa fa-fw fa-bullseye"></i> Consul</a></li>
                                            <li class="active" ><a href="/documentation-archive/v5.6.0/using-uaa/"><i class="fa fa-fw fa-lock"></i> JHipster UAA</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/creating-microservices/"><i class="fa fa-fw fa-bolt"></i> Creating microservices</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/microservices-in-production/"><i class="fa fa-fw fa-cloud"></i> Microservices in production</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-6"><span class="icon fa fa-fw fa-puzzle-piece"></span><span class="title">Options</span></a>
                                <div id="dropdown-6" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/security/"><i class="fa fa-fw fa-lock"></i> Securing your app</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/entities-filtering/"><i class="fa fa-fw fa-filter"></i> Filtering your entities</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-elasticsearch/"><i class="fa fa-fw fa-search"></i> Using Elasticsearch</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-websockets/"><i class="fa fa-fw fa-envelope"></i> Using Websockets</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/doing-api-first-development/"><i class="fa fa-fw fa-file-text"></i> Doing API-First development</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-cache/"><i class="fa fa-fw fa-line-chart"></i> Using a cache</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-oracle/"><i class="fa fa-fw fa-database"></i> Using Oracle</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-mongodb/"><i class="fa fa-fw fa-leaf"></i> Using MongoDB</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-couchbase/"><i class="fa fa-fw fa-database"></i> Using Couchbase</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-cassandra/"><i class="fa fa-fw fa-eye"></i> Using Cassandra</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-kafka/"><i class="fa fa-fw fa-envelope"></i> Using Kafka</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-7"><span class="icon fa fa-fw fa-code"></span><span class="title">Development</span></a>
                                <div id="dropdown-7" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/development/"><i class="fa fa-fw fa-code"></i> Using in development</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/profiles/"><i class="fa fa-fw fa-group"></i> Managing profiles</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/common-application-properties/"><i class="fa fa-fw fa-flask"></i> Common application properties</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/common-ports/"><i class="fa fa-fw fa-plug"></i> Common ports</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/separating-front-end-and-api/"><i class="fa fa-fw fa-unlink"></i> Separating front-end and API</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/managing-server-errors/"><i class="fa fa-fw fa-fire-extinguisher"></i> Managing server errors</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-angular/"><i class="fa fa-fw fa-html5"></i> Using Angular</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/using-react/"><i class="fa fa-fw fa-html5"></i> Using React</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/customizing-bootstrap-4/"><i class="fa fa-fw fa-css3"></i> Customizing Bootstrap 4</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/tls/"><i class="fa fa-fw fa-lock"></i> Using TLS and HTTP/2</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-8"><span class="icon fa fa-fw fa-umbrella"></span><span class="title">Test &amp; QA</span></a>
                                <div id="dropdown-8" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/running-tests/"><i class="fa fa-fw fa-shield"></i> Running tests</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/code-quality/"><i class="fa fa-fw fa-diamond"></i> Code quality</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/dependency-vulnerabities-check/"><i class="fa fa-fw fa-check-circle-o"></i> Dependency Vulnerabilities Check</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/setting-up-ci/"><i class="fa fa-fw fa-stethoscope"></i> Continuous Integration</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-9"><span class="icon fa fa-fw fa-cloud"></span><span class="title">Production</span></a>
                                <div id="dropdown-9" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/production/"><i class="fa fa-fw fa-play-circle"></i> Using in production</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/monitoring/"><i class="fa fa-fw fa-line-chart"></i> Monitoring</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/docker-hub/"><i class="fa fa-fw fa-cloud-upload"></i> Docker Hub</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/kubernetes/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Kubernetes</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/openshift/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to OpenShift</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/heroku/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Heroku</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/cloudfoundry/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Cloud Foundry</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/aws/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to AWS</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/azure/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Azure</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/gcp/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Google Cloud Platform</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/rancher/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying to Rancher</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/boxfuse/"><i class="fa fa-fw fa-cloud-upload"></i> Deploying with Boxfuse</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-10"><span class="icon fa fa-fw fa-cubes"></span><span class="title">Modules &amp; Blueprints</span></a>
                                <div id="dropdown-10" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/modules/marketplace/"><i class="fa fa-fw fa-shopping-cart"></i> Marketplace</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/modules/creating-a-module/"><i class="fa fa-fw fa-cube"></i> Creating a module</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/modules/creating-a-blueprint/"><i class="fa fa-fw fa-cube"></i> Creating a blueprint</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-11"><span class="icon fa fa-fw fa-wrench"></span><span class="title">Tools</span></a>
                                <div id="dropdown-11" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/jdl/"><i class="fa fa-fw fa-star"></i> JDL</a></li>
                                            <li><a href="https://start.jhipster.tech/jdl-studio/"><i class="fa fa-fw fa-terminal"></i> JDL Studio</a></li>
                                            <li >
                                                <a href="/documentation-archive/v5.6.0/jhipster-ide/"><i class="fa fa-fw fa-object-group"></i> JHipster IDE</a></li>
                                            <li >
                                                <a href="/documentation-archive/v5.6.0/jhipster-uml/"><i class="fa fa-fw fa-magic"></i> JHipster-UML</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </li>

                            <li class="panel panel-default dropdown">
                                <a data-toggle="collapse" href="#dropdown-12"><span class="icon fa fa-fw fa-question"></span><span class="title">Getting help</span></a>
                                <div id="dropdown-12" class="panel-collapse collapse" style="height: 0px;">
                                    <div class="panel-body">
                                        <ul class="nav navbar-nav">
                                            <li ><a href="/documentation-archive/v5.6.0/help/"><i class="fa fa-fw fa-users"></i> Community help</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/bug-bounties/"><i class="fa fa-fw fa-usd"></i> Bug bounties</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/consulting/"><i class="fa fa-fw fa-user-md"></i> Professional help</a></li>
                                            <li ><a href="/documentation-archive/v5.6.0/training/"><i class="fa fa-fw fa-graduation-cap"></i> Training</a></li>
                                        </ul>
                                     </div>
                                </div>
                            </li>
                            <li ><a href="/documentation-archive/v5.6.0/tips/"><span class="icon fa fa-fw fa-cogs"></span><span class="title">Tips'n tricks</span></a></li>
                        </ul>
                    </div>
                    <!-- /.navbar-collapse -->
                </nav>
            </div>
            <!-- Main Content -->
            <div id="page-wrapper" class="container-fluid">
                <div class="side-body" id="page-top">
                    
                    <div class="row page-content-wrapper">
                        <div class="col-lg-12">
                            <h1 id="-using-jhipster-uaa-for-microservice-security"><i class="fa fa-lock"></i> Using JHipster UAA for Microservice Security</h1>

<p>JHipster UAA is a user accounting and authorizing service for securing JHipster microservices using the OAuth2 authorization protocol.</p>

<p>To clearly distinct JHipster UAA from other “UAA”s such as <a href="https://github.com/cloudfoundry/uaa">Cloudfoundry UAA</a>, JHipster UAA is a fully configured OAuth2 authorization server with the users and roles endpoints inside, wrapped into a usual JHipster application. This allows the developer to deeply configure every aspect of his user domain, without restricting on policies by other ready-to-use UAAs.</p>

<h2 id="summary">Summary</h2>

<ol>
  <li><a href="#architecture_diagram">Architecture diagram</a></li>
  <li><a href="#claims">Security claims of microservice architecture</a></li>
  <li><a href="#oauth2">Understanding OAuth2 in this context</a></li>
  <li><a href="#jhipster-uaa">Using JHipster UAA</a>
    <ul>
      <li>Basic setup</li>
      <li>Understanding the components</li>
      <li>Refresh Tokens</li>
      <li>Common mistakes</li>
    </ul>
  </li>
  <li><a href="#inter-service-communication">Securing inter-service-communication using Feign clients</a>
    <ul>
      <li>Using Eureka, Ribbon, Hystrix and Feign</li>
      <li>Using <code class="highlighter-rouge">@AuthorizedFeignClients</code></li>
    </ul>
  </li>
  <li><a href="#testing">Testing UAA applications</a>
    <ul>
      <li>Stubbing feign clients</li>
      <li>Emulating OAuth2 authentication</li>
    </ul>
  </li>
</ol>

<h2 id="-architecture-diagram"><a name="architecture_diagram"></a> Architecture diagram</h2>

<p><img src="/documentation-archive/v5.6.0/images/microservices_architecture_detail.002.png" alt="Diagram" style="width: 800; height: 600" class="img-responsive" /></p>

<h2 id="-1-security-claims-of-microservice-architecture"><a name="claims"></a> 1. Security claims of microservice architecture</h2>

<p>Before digging into OAuth2 and its application on JHipster microservices, it’s important to clarify the claims to a solid security solution.</p>

<h3 id="1-central-authentication">1. Central authentication</h3>

<p>Since microservices is about building mostly independent and autonomous applications, we want to have a consistent authentication experience, so the user won’t notice his requests are served by different applications with possibly individual security configuration.</p>

<h3 id="2-statelessness">2. Statelessness</h3>

<p>The core benefit of building microservices is scalability. So the chosen security solution shouldn’t affect this. Holding the users session state on server becomes a tricky task, so a stateless solution is highly preferred in this scenario.</p>

<h3 id="3-usermachine-access-distinction">3. User/machine access distinction</h3>

<p>There is a need of having a clear distinction of different users, and also different machines. Using microservice architecture leads to building a large multi-purpose data-center of different domains and resources, so there is a need to restrict different clients, such as native apps, multiple SPAs etc. in their access.</p>

<h3 id="4-fine-grained-access-control">4. Fine-grained access control</h3>

<p>While maintaining centralized roles, there is a need of configuring detailed access control policies in each microservice. A microservice should be unaware of the responsibility of recognizing users, and must just authorize incoming requests.</p>

<h3 id="5-safe-from-attacks">5. Safe from attacks</h3>

<p>No matter how much problems a security solution may solve, it should be strong against vulnerabilities as best as possible.</p>

<h3 id="6-scalability">6. Scalability</h3>

<p>Using stateless protocols is not a warranty of the security solution is scalable. In the end, there should not be any single point of failure. A counter-example is a shared auth database or single auth-server-instance, which is hit once per request.</p>

<h2 id="-2-understanding-oauth2-in-this-context"><a name="oauth2"></a> 2. Understanding OAuth2 in this context</h2>

<p>Using the OAuth2 protocol (note: it’s a <strong>protocol</strong>, not a framework, not an application) is satisfying all 6 claims. It follows strict standards, what makes this solution compatible to other microservices as well, and remote systems, too. JHipster provides a couple of solutions, based on the following security design:</p>

<p><img src="/documentation-archive/v5.6.0/images/jhipster_uaa.png" alt="JHipster UAA architecture" /></p>

<ul>
  <li>Every request to any endpoint of the architecture is performed via an “client”</li>
  <li>A “client” is an abstract word for things like “Angular $http client”, some “REST-Client”, “curl”, or anything able to perform requests.</li>
  <li>A “client” may also be used in conjunction with user authentication, like the Angular $http in the frontend client application</li>
  <li>Every microservice serving resources on endpoints (including the UAA), are resource servers</li>
  <li>Blue arrows show clients authenticate on an Oauth authorization server</li>
  <li>Green arrows show requests on resource servers performed by the client</li>
  <li>The UAA server is a combination of authorization server and resource server</li>
  <li>The UAA server is the owner of all the data inside the microservice applications (it approves automatically access to resource servers)</li>
  <li>Clients accessing resources with user authentication, are authenticated using “password grant” with the client ID and secret safely stored in the gateway configuration files</li>
  <li>Clients accessing resources without user, are authenticated using “client credentials grant”</li>
  <li>Every client is defined inside UAA (web-app, internal, …)</li>
</ul>

<p>This design may be applied to any microservice architecture independent from language or framework.</p>

<p>As an addition, the following rules can be applied for access control:</p>

<ul>
  <li>User access is configured using “roles” and <a href="https://de.wikipedia.org/wiki/Role_Based_Access_Control">RBAC</a></li>
  <li>Machines access is configured using “scopes” and <a href="https://de.wikipedia.org/wiki/Role_Based_Access_Control">RBAC</a></li>
  <li>Complex access configuration is expressed using <a href="https://en.wikipedia.org/wiki/Attribute-Based_Access_Control">ABAC</a>, using boolean expressions over both “roles” and “scopes”
    <ul>
      <li>example: hasRole(“ADMIN”) and hasScope(“shop-manager.read”, “shop-manager.write”)</li>
    </ul>
  </li>
</ul>

<h2 id="-3-using-jhipster-uaa"><a name="jhipster-uaa"></a> 3. Using JHipster UAA</h2>

<p>When scaffolding a JHipster microservice, you may choose the UAA options instead of JWT authentication.</p>

<p><strong>Note</strong>: the UAA solution is also using JWT, which are addressable to custom configuration as well as JWT, using default Spring Cloud Security.</p>

<h3 id="basic-setup">Basic setup</h3>

<p>The very basic setup consists of:</p>

<ol>
  <li>A JHipster UAA server (as type of application)</li>
  <li>At least one other microservice (using UAA authentication)</li>
  <li>A JHipster gateway (using UAA authentication)</li>
</ol>

<p>This is the order in which it should be generated.</p>

<p>In addition to the authentication type, the location of the UAA must be provided.</p>

<p>For very basic usage, this setup is working the same way as it does for JWT authentication type, but with one more service.</p>

<h3 id="understanding-the-components">Understanding the components</h3>

<p>The JHipster UAA server does three things out of the box:</p>

<ul>
  <li>It serves the default JHipster user domain, containing user and account resource (this is done by gateway in JWT authentication)</li>
  <li>It implements <code class="highlighter-rouge">AuthorizationServerConfigurerAdapter</code> for OAuth2 and is defining basic clients (“web_app” and “internal”)</li>
  <li>It serves the JWT public key on <code class="highlighter-rouge">/oauth/token_key</code>, which has to be consumed by all other microservices</li>
</ul>

<p>The choices of a database, cache solution, search engine, build tools and further JHipster options are open to the developer.</p>

<p>When a microservice boots up, it usually expects the UAA server is already up to share its public key. The service first calls <code class="highlighter-rouge">/oauth/token_key</code> to fetch the public key and configure it for key signing (<code class="highlighter-rouge">JwtAccessTokenConverter</code>).</p>

<p>If the UAA is not up, the application will continue to start and fetch the public key at a later time.  There are two properties - <code class="highlighter-rouge">uaa.signature-verification.ttl</code> controls how long the key lives before it is fetched again, <code class="highlighter-rouge">uaa.signature-verification.public-key-refresh-rate-limit</code> limits requests to UAA to avoid spamming it. These values are usually left at their default values. In any case, if verification fails, then the microservice will check if there’s a new key. That way, keys can be replaced on the UAA and the services will catch up.</p>

<p>From this point there are two use cases that may happen in this basic setup: user calls and machine calls.</p>

<p>For the user calls, a login request is sent to the gateway’s <code class="highlighter-rouge">/auth/login</code> endpoint.  This endpoint uses <code class="highlighter-rouge">OAuth2TokenEndpointClientAdapter</code> to send a request to the UAA authenticating with the “password” grant.  Because this request happens on the gateway, the client ID and secret are not stored in any client-side code and are inaccessible to users.  The gateway returns a new Cookie containing the token, and this cookie is sent with each request performed from the client to the JHipster backend.</p>

<p>For the machine calls, the machine has to authenticate as a UAA using client credentials grant. JHipster provides a standard solution, described in <a href="#inter-service-communication">secure inter-service-communication using feign clients</a></p>

<h3 id="refresh-tokens">Refresh Tokens</h3>

<p>The general flow for refreshing access tokens happens on the gateway and is as follows:</p>

<ul>
  <li>Authentication is done via <code class="highlighter-rouge">AuthResource</code> calling <code class="highlighter-rouge">OAuth2AuthenticationService</code>’s authenticate which will set Cookies.</li>
  <li>For each request, the <code class="highlighter-rouge">RefreshTokenFilter</code> (installed by <code class="highlighter-rouge">RefreshTokenFilterConfigurer</code>) checks whether the access token is expired and whether it has a valid refresh token</li>
  <li>If so, then it triggers the refresh process via <code class="highlighter-rouge">OAuth2AuthenticationService</code> refreshToken.</li>
  <li>This uses the <code class="highlighter-rouge">OAuth2TokenEndpointClient</code> interface to send a refresh token grant to the OAuth2 server of choice, in our case UAA (via <code class="highlighter-rouge">UaaTokenEndpointClient</code>).</li>
  <li>The result of the refresh grant is then used downstream as new cookies and set upstream (to the browser) as new cookies.</li>
</ul>

<h3 id="common-mistakes">Common mistakes</h3>

<p>Here is a brief list of the very major things a developer should be aware of.</p>

<h4 id="using-the-same-signing-key-for-production-and-staging"><strong><em>Using the same signing key for production and staging</em></strong></h4>

<p>It is strictly recommended to use different signing keys as much as possible. Once a signing key gets into wrong hands, it is possible to generate full access granting key without knowing login credentials of any user.</p>

<h4 id="not-using-tls"><strong><em>Not using TLS</em></strong></h4>

<p>If an attacker manages to intercept an access token, he will gain all the rights authorized to this token, until the token expires. There are a lot of ways to achieve that, in particular when there is no TLS encryption. This was not a problem in the days of version 1 of OAuth, because protocol level encryption was forced.</p>

<h4 id="using-access-tokens-in-url"><strong><em>Using access tokens in URL</em></strong></h4>

<p>As of standard, access tokens can be either passed by URL, in headers, or in a cookie. From the TLS point of view, all three ways are secure. In practice passing tokens via URL is less secure, since there several ways of getting the URL from records.</p>

<h4 id="switching-to-symmetric-signing-keys"><strong><em>Switching to symmetric signing keys</em></strong></h4>

<p>RSA is not required for JWT signing, and Spring Security does provide symmetric token signing as well. This also solves some problems, which make development harder. But this is insecure, since an attacker just needs to get into one single microservice to be able to generate its own JWT tokens.</p>

<h2 id="-4-secure-inter-service-communication-using-feign-clients"><a name="inter-service-communication"></a> 4. Secure inter-service-communication using Feign clients</h2>

<p>Currently only JHipster UAA is providing an scalable approach of secure inter-service-communication.</p>

<p>Using JWT authentication without manually forwarding JWTs from request to internal request forces microservices to call other microservices over the gateway, which involves additional internal requests per one master requests. But even with forwarding, it’s not possible to cleanly separate user and machine authentication.</p>

<p>Since JHipster UAA is based on OAuth2, all these problems are solved on protocol definition.</p>

<p>This chapter covers how to easily get started with this.</p>

<h3 id="using-eureka-ribbon-hystrix-and-feign">Using Eureka, Ribbon, Hystrix and Feign</h3>

<p>When one service wants to request data from another, finally all these four players come into play. So it is important, to briefly know what each of them is responsible for:</p>

<ul>
  <li>Eureka: this is where services (un-)register, so you can ask “foo-service” and get a set of IPs of instances of the foo-service, registered in Eureka</li>
  <li>Ribbon: when someone asked for “foo-service” and already retrieved a set of IPs, Ribbon does the load balancing over these IPs.</li>
</ul>

<p>So to sum up, when we got a URL like “http://uaa/oauth/token/” with 2 instances of JHipster UAA server running on 10.10.10.1:9999 and 10.10.10.2:9999, we may use Eureka and Ribbon to quickly transform that URL either to “http://10.10.10.1:9999/oauth/token” or “http://10.10.10.2:9999/oauth/token” using a Round Robin algorithm.</p>

<ul>
  <li>Hystrix: a circuit breaker system solving fall-back scenarios on service fails</li>
  <li>Feign: using all that in a declarative style</li>
</ul>

<p>In real world, there is no warranty of all instances of all services to be up. So Hystrix works as a circuit breaker, to handle failure scenarios in a well-defined way, using fallbacks.</p>

<p>But wiring and coding all these things manually is a lot of work: Feign provides the option of writing <strong><em>Ribbon</em></strong> load balanced REST clients for endpoints registered in <strong><em>Eureka</em></strong>, with fallback implementations controlled using <strong><em>Hystrix</em></strong>, using nothing more then an Java interfaces with some annotations.</p>

<p>So for inter-service-communication, Feign clients are very helpful. When one service needs a REST client to access an “other-service”, serving some “other-resource”, it’s possible to declare an interface like:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@FeignClient</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"other-service"</span><span class="o">)</span>
<span class="kd">interface</span> <span class="nc">OtherServiceClient</span> <span class="o">{</span>
  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/api/other-resources"</span><span class="o">)</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">OtherResource</span><span class="o">&gt;</span> <span class="nf">getResourcesFromOtherService</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p>And then, using it via dependency injection, like:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Service</span>
<span class="kd">class</span> <span class="nc">SomeService</span> <span class="o">{</span>
  <span class="kd">private</span> <span class="n">OtherServiceClient</span> <span class="n">otherServiceClient</span><span class="o">;</span>

  <span class="nd">@Inject</span>
  <span class="kd">public</span> <span class="nf">SomeService</span><span class="o">(</span><span class="n">OtherServiceClient</span> <span class="n">otherServiceClient</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">otherServiceClient</span> <span class="o">=</span> <span class="n">otherServiceClient</span><span class="o">;</span>
  <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Similar to Spring Data JPA, there is no need to implement that interface. But you may do so, if using Hystrix. Implemented classes of Feign client interfaces act as fallback implementations.</p>

<p>One open issue is, to make this communication secure using UAA. To accomplish this, there should be some request interceptor for Feign, which implements the client credentials flow from OAuth, to authorize the current service for requesting the other service. In JHipster, you just use <code class="highlighter-rouge">@AuthorizedFeignClients</code> instead. This is a special annotation provided by JHipster, which does exactly that.</p>

<h3 id="using-authorizedfeignclients">Using <code class="highlighter-rouge">@AuthorizedFeignClients</code></h3>

<p>Considering the above Feign client should be used to an “other-service”, which
serves protected resources, the interface must be annotated like this:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@AuthorizedFeignClient</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"other-service"</span><span class="o">)</span>
<span class="kd">interface</span> <span class="nc">OtherServiceClient</span> <span class="o">{</span>
  <span class="nd">@RequestMapping</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"/api/other-resources"</span><span class="o">)</span>
  <span class="n">List</span><span class="o">&lt;</span><span class="n">OtherResource</span><span class="o">&gt;</span> <span class="nf">getResourcesFromOtherService</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>note</strong>: Due to a bug in Spring Cloud, it’s currently not possible to use a different
notation for the service name, as</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@AuthorizedFeignClient</span><span class="o">(</span><span class="s">"other-service"</span><span class="o">)</span>
</code></pre></div></div>

<p>or</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@AuthorizedFeignClient</span><span class="o">(</span><span class="n">value</span> <span class="o">=</span> <span class="s">"other-service"</span><span class="o">)</span>
</code></pre></div></div>

<p>The REST client automatically gets authorized with your UAA server, when there is no valid access token stored in memory.</p>

<p>This approach addresses a scenario when machine request run over a separate OAuth client not referring to an user session. This is important, in particular when entity auditing is used on a request, issued by another request in another service. As an alternative, the access token of the initial request may be forwarded to further calls. Currently, there is no “default solution” provided by JHipster.</p>

<h2 id="-5-testing-uaa-applications"><a name="testing"></a> 5. Testing UAA applications</h2>

<h3 id="mocking-feign-clients">Mocking Feign clients</h3>

<p>Components working with Feign clients should be testable. Using Feign in tests the same way it is used in production would force the JHipster Registry and the UAA server to be up and reachable to the same machine where the tests are run. But in most cases, you don’t want to test that Feign itself works (it usually does), but your components using Feign clients.</p>

<p>To test components, which are using feign clients inside is possible using <code class="highlighter-rouge">@MockBean</code>, which is part of spring boot since 1.4.0.</p>

<p>Here is an example, testing <code class="highlighter-rouge">SomeService</code> works as expected, with mocked values for the client:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@RunWith</span><span class="o">(</span><span class="n">SpringRunner</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="nd">@SpringBootTest</span><span class="o">(</span><span class="n">App</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SomeServiceTest</span> <span class="o">{</span>

    <span class="nd">@MockBean</span>
    <span class="kd">private</span> <span class="n">OtherServiceClient</span> <span class="n">otherServiceClient</span><span class="o">;</span>

    <span class="nd">@Inject</span>
    <span class="kd">private</span> <span class="n">SomeService</span> <span class="n">someService</span><span class="o">;</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">testSomeService</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">given</span><span class="o">(</span><span class="n">otherServiceClient</span><span class="o">.</span><span class="na">getResourcesFromOtherService</span><span class="o">())</span>
        <span class="o">.</span><span class="na">willReturn</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="k">new</span> <span class="n">OtherResource</span><span class="o">(...));</span>

        <span class="n">someService</span><span class="o">.</span><span class="na">performActionWhichInkvokesTheAboveMentionedMethod</span><span class="o">();</span>

        <span class="c1">//assert that your application is in the desired state</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>So with this technology you are simulating the behavior of the other service, and provide expected resource entity, which would come from the origin.
All Beans injecting a client will behave as mocked, so you can focus on the logic of these Beans.</p>

<h3 id="emulating-oauth2-authentication">Emulating OAuth2 authentication</h3>

<p>Using Spring’s integration tests against the REST controllers is usually bypassing the security configuration, since it would make testing hard, when the only intention is to prove the controller is functional doing what it should do. But sometimes, testing a controller’s security behavior is part of testing, too.</p>

<p>For this use-case, JHipster is providing an component called <code class="highlighter-rouge">OAuth2TokenMockUtil</code>, which can emulate a valid authentication without forcing the user or client to exist.</p>

<p>To use this feature, two things have to be done:</p>

<h4 id="1-enabling-security-in-the-mock-spring-mvc-context-and-inject-the-mock-util">1. Enabling security in the mock Spring MVC context and inject the mock util</h4>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
    <span class="nd">@Inject</span>
    <span class="kd">private</span> <span class="n">OAuth2TokenMockUtil</span> <span class="n">tokenUtil</span><span class="o">;</span>

    <span class="nd">@PostConstruct</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setup</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">restMockMvc</span> <span class="o">=</span> <span class="n">MockMvcBuilders</span>
            <span class="o">.</span><span class="na">webAppContextSetup</span><span class="o">(</span><span class="n">context</span><span class="o">)</span>
            <span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">springSecurity</span><span class="o">())</span>
            <span class="o">.</span><span class="na">build</span><span class="o">();</span>

    <span class="o">}</span>
</code></pre></div></div>

<p><strong><em>In this test no single instance of the controller has to be mocked, but the
application’s <code class="highlighter-rouge">WebApplicationContext</code></em></strong></p>

<h4 id="2-using-the-oauth2tokenmockutil">2. Using the <code class="highlighter-rouge">OAuth2TokenMockUtil</code></h4>

<p>The util offers a method “oaut2authentication”, which is usable to MockMvc “with” notation. Currently it can be configured to mock a authentication with the following fields:</p>

<ul>
  <li>username</li>
  <li>roles (Set<String>)</String></li>
  <li>scope (Set<String>)</String></li>
</ul>

<p>Here is an example:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="nd">@Test</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">testInsufficientRoles</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">restMockMvc</span><span class="o">.</span><span class="na">peform</span><span class="o">(</span>
        <span class="n">get</span><span class="o">(</span><span class="s">"url/requiring/ADMIN/role"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">with</span><span class="o">(</span><span class="n">tokenUtil</span><span class="o">.</span><span class="na">oauth2Authentication</span><span class="o">(</span><span class="s">"unpriveleged.user@example.com"</span><span class="o">,</span> <span class="n">Sets</span><span class="o">.</span><span class="na">newSet</span><span class="o">(</span><span class="s">"some-scope"</span><span class="o">),</span> <span class="n">Sets</span><span class="o">.</span><span class="na">newSet</span><span class="o">(</span><span class="s">"ROLE_USER"</span><span class="o">)))</span>
    <span class="o">).</span><span class="na">andExpect</span><span class="o">(</span><span class="n">status</span><span class="o">().</span><span class="na">isForbidden</span><span class="o">());</span>
<span class="o">}</span>
</code></pre></div></div>


                        </div>
                    </div>
                    <!-- /.row -->
                    

                    <!-- Footer -->
                    <footer class="text-center">
                        
                        <hr>
                        <div class="footer-logos">
                            <div class="container">
                                <div class="row">
                                    <div class="col-12">
                                        JHipster is sponsored by:
                                    </div>
                                    <!-- change to below commented line when adding more logos -->
                                    <!-- <div class="col-xs-12 col-sm-6 col-md-4"> -->
                                    <div class="col-md-offset-4 col-sm-12 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.6.0/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    <!--
                                    <div class="col-xs-12 col-sm-6 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.6.0/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-xs-12 col-sm-6 col-md-4">
                                        <div class="thumbnail no-margin-bottom">
                                            <div class="logo-container">
                                                <a href="https://developer.okta.com/signup?utm_source=JHipster&utm_medium=logo&utm_campaign=Gold-Sponsor" target="_blank"><img src="/documentation-archive/v5.6.0/images/open-collective/okta.png" width="320px" height="108px"></a>
                                            </div>
                                        </div>
                                    </div>
                                    -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="footer-above">
                            <div class="container">
                                <div class="row">
                                    <div class="footer-col col-md-4">
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-coffee fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.0/team/">Team</a></h5>
                                            <h5 class="text-left"><i class="fa fa-pencil fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.0/artwork/">Artwork</a></h5>
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-gavel fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.0/policies/">Policies</a></h5>
                                            <h5 class="text-left"><i class="fa fa-meetup fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.0/meetups/">Meetups</a></h5>
                                        </div>
                                        <div class="col-md-4 col-sm-12">
                                            <h5 class="text-left"><i class="fa fa-database fa-fw"></i> <a class="link" href="/documentation-archive/v5.6.0/documentation-archive/">Archives</a></h5>
                                        </div>
                                    </div>
                                    <div class="footer-col col-md-4">
                                        <ul class="list-inline">
                                            <li>
                                                <a href="https://twitter.com/java_hipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-twitter"></i></a>
                                            </li>
                                            <li>
                                                <a href="https://github.com/jhipster/generator-jhipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-github"></i></a>
                                            </li>
                                            <li>
                                                <a href="https://gitter.im/jhipster/generator-jhipster" target="_blank" class="btn-social btn-outline"><i class="fa fa-fw fa-comments"></i></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="footer-below">
                            <div class="container">
                                <div class="row">
                                    <div class="col-lg-12">
                                        Copyright &copy; JHipster 2013-2018 | Theme based on <a href="https://github.com/IronSummitMedia/startbootstrap-freelancer" target="_blank">Freelancer</a> and <a href="https://github.com/tui2tone/flat-admin-bootstrap-templates" target="_blank">Flat admin</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </footer>
                </div>
                <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes) -->
                <div class="scroll-top page-scroll visible-xs visible-sm">
                    <a class="btn btn-primary" href="#page-top">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                </div>
            </div>
            <!-- /#page-wrapper -->
        </div>
        <!-- /#wrapper -->
    </div>
    <!-- Javascript Libs -->
    <script type="text/javascript" src="/documentation-archive/v5.6.0/lib/js/jquery.min.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.0/lib/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.0/lib/js/ace.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.0/lib/js/mode-html.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.0/lib/js/theme-github.js"></script>
    <script type="text/javascript" src="/documentation-archive/v5.6.0/lib/js/jquery.easing.min.js"></script>

    

    <!--App Javascript -->
    <script type="text/javascript" src="/documentation-archive/v5.6.0/js/app.js"></script>
    
    
    
    <script>
    if (self !== top) {
        window.top.location.href = "https://www.jhipster.tech";
    }
    </script>
    <script>
        (function (i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function () {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-46075199-1', 'auto');
        ga('send', 'pageview');
    </script>
</body>

</html>
<script>
$(document.body).prepend('<div class="alert alert-danger alert-dismissible fade in" style="z-index: 9999;padding-top: 80px;height: 80;margin:0px;top:0;" role="alert"><h4><i class="fa fa-exclamation-triangle"><\/i> JHipster old documentation<\/h4><p>This documentation is for an older version of JHipster. Click <a href="https://jhipster.github.io/">here</a> for the current version of the documentation.<\/p><\/div>');</script>
